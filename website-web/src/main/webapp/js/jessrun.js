var jessrun = typeof $ === "function" ? window.$ : {};jessrun.getName=function(b){return document.getElementsByName(b)};jessrun.getID=function(a){return document.getElementById(a)};jessrun.getTag=function(a){return document.getElementsByTagName(a)};jessrun.Browser=function(){var d=navigator.userAgent.toLowerCase();var c={};c.isStrict=document.compatMode=="CSS1Compat";c.isFirefox=d.indexOf("firefox")>-1;c.isOpera=d.indexOf("opera")>-1;c.isSafari=(/webkit|khtml/).test(d);c.isSafari3=c.isSafari&&d.indexOf("webkit/5")!=-1;c.isIE=!c.isOpera&&d.indexOf("msie")>-1;c.isIE6=!c.isOpera&&d.indexOf("msie 6")>-1;c.isIE7=!c.isOpera&&d.indexOf("msie 7")>-1;c.isIE8=!c.isOpera&&d.indexOf("msie 8")>-1;c.isGecko=!c.isSafari&&d.indexOf("gecko")>-1;c.isMozilla=document.all!=undefined&&document.getElementById!=undefined&&!window.opera!=undefined;return c}();jessrun.pageSize={get:function(){var f=jessrun.Browser.isStrict?document.documentElement:document.body;var e=["clientWidth","clientHeight","scrollWidth","scrollHeight"];var h={};for(var g in e){h[e[g]]=f[e[g]]}h.scrollLeft=document.body.scrollLeft||document.documentElement.scrollLeft;h.scrollTop=document.body.scrollTop||document.documentElement.scrollTop;return h}};jessrun.getPosition=function(h,e){if(e){h=jessrun.getID(h)}var l=0;var k=0;var j=h.offsetWidth;var i=h.offsetHeight;do{k+=h.offsetTop||0;l+=h.offsetLeft||0;h=h.offsetParent}while(h);return{x:l,y:k,width:j,height:i}};jessrun.safeRange=function(v){var u=$("#"+v);var t,s,r,q,o,m,l,i;l=u.outerWidth();i=u.outerHeight();p=this.pageSize.get();t=0;r=p.clientWidth-l;o=r/2;s=0;q=p.clientHeight-i;var n=p.clientHeight*0.382-i/2;m=(i<p.clientHeight/2)?n:q/2;if(o<0){o=0}if(m<0){m=0}return{width:l,height:i,minX:t,minY:s,maxX:r,maxY:q,centerX:o,centerY:m}};jessrun.callBack={ok:function(a){return"<div class='ui_box_callback callback_ok'><span class='ui_box_callback_ok'></span>"+a+"</div>"},error:function(a){return"<div class='ui_box_callback callback_error'><span class='ui_box_callback_error'></span>"+a+"</div>"},tips:function(a){return"<div class='ui_box_callback callback_tips'><span class='ui_box_callback_tips'></span>"+a+"</div>"}};jessrun.fixed=function(e){var c=$("#"+e);if(!jessrun.Browser.isIE6){c.css({position:"fixed"})}else{var d=$("<div></div>");c.appendTo(d);$("body").append(d);jessrun.addCSS("."+e+"fixed{width:100%; height:100%; position: absolute; z-index:891201; left: expression(documentElement.scrollLeft+documentElement.clientWidth-this.offsetWidth); top:expression(documentElement.scrollTop)}");c.parent().addClass(e+"fixed");$("body").css("background-attachment","fixed").css("background-image","url(n1othing.txt)")}};jessrun.addCSS=function(d,e){var c=this.style;if(!c){c=this.style=document.createElement("style");c.setAttribute("type","text/css");c.id=e;document.getElementsByTagName("head")[0].appendChild(c)}c.styleSheet&&(c.styleSheet.cssText+=d)||c.appendChild(document.createTextNode(d))};jessrun.zindex=function(b){$(b).css("zIndex",b)};jessrun.loadCSS=function(f,e){if(!f){return}var a=jessrun.getTag("link");for(var h in a){if(a[h].href==f){return}}var g=document.createElement("link");g.id=e;g.rel="stylesheet";g.media="screen";g.type="text/css";g.href=f;jessrun.getTag("HEAD").item(0).appendChild(g)};jessrun.loadJS=function(h,e,l,k){k=k||"utf-8";var j=document.createElement("script");j.charset=k;j.type="text/javascript";j.id=h;j.src=h;var i=jessrun.getTag("HEAD").item(0);if(jessrun.Browser.isIE){j.onreadystatechange=function(){if(!(/loaded|complete/i.test(j.readyState))){return}if("function"==typeof e){e()}j.onreadystatechange=null;j.parentNode.removeChild(j);j=null}}else{j.onload=function(){if("function"==typeof e){e()}j.parentNode.removeChild(j);j=null}}if("function"==typeof l){j.onerror=function(){if("function"==typeof l){l()}j.parentNode.removeChild(j);j=null}}i.appendChild(j)};jessrun.imgReady=(function(){var d=[],c=null,b=function(){var e=0;for(;e<d.length;e++){d[e].end?d.splice(e--,1):d[e]()}!d.length&&a()},a=function(){clearInterval(c);c=null};return function(f,k,m,j){var l,g,n,i,e,h=new Image();h.src=f;if(h.complete){k.call(h);m&&m.call(h);return}g=h.width;n=h.height;h.onerror=function(){j&&j.call(h);l.end=true;h=h.onload=h.onerror=null};l=function(){i=h.width;e=h.height;if(i!==g||e!==n||i*e>1024){k.call(h);l.end=true}};l();h.onload=function(){!l.end&&l();m&&m.call(h);h=h.onload=h.onerror=null};if(!l.end){d.push(l);if(c===null){c=setInterval(b,40)}}}})();jessrun.subString=function(b,a){var d=$(b);d.each(function(){var e=$(this).text().trim();var c=jessrun.getLength($(this).text().trim());if(c>a){$(this).attr("title",e);e=$(this).text(e.substring(0,a)+"...")}})};jessrun.getLength=function(a){return a.replace(/[^\x00-\xff]/g,"**").length};jessrun.chackTextarea={clear:"timer",init:function(h,e,l,k,j,i){jessrun.chackTextarea.clear=setInterval(function(){var a=jessrun.getLength($("#"+h).val()),c;var b=$("#"+h).attr("rel");var c=b.split("|");if(a>=0){if(a>e*2){$(l).html(c[0]+'<strong class="chkTxtAreaNumMore">'+parseInt((a-e*2)/2)+"</strong>"+c[2]);if(k){$(k).attr("disabled","disabled").attr("class",i)}}else{$(l).html(c[1]+'<strong class="chkTxtAreaNum">'+parseInt((e*2-a)/2)+"</strong>"+c[2]);if(k){$(k).attr("disabled","").attr("class",j)}}}else{if(k){$(k).attr("disabled","disabled").attr("class",j)}}},100)}};jessrun.slideMenu=function(b,a){$(b+" li").mousemove(function(){if($(this).has(a)){$(this).find(a+":first").show().css({position:"absolute"});$(this).css({position:"relative"})}});$(b+" li").mouseleave(function(){$(this).find(a).hide();$(this).css({position:""})})};jessrun.txtFocus=function(b,a){$(b+" input:text").each(function(){var c=$(this).attr(a);if(c&&c.length>0){$(this).focus(function(){if($.trim(this.value).length>0){if($(this).width()==150){$(this).attr(a,this.value)}$(this).val("")}return true}).blur(function(){if($.trim(this.value).length==0){$(this).val($(this).attr(a))}return true}).val(c)}})};jQuery(function(a){if(jessrun.Browser.isIE6||jessrun.Browser.isIE7){a("input,textarea").focus(function(){a(this).addClass("focus")}).blur(function(){a(this).removeClass("focus")})}});jessrun.bankTelSplit=function(g,d,b){var j=$(d).val();if(j==""){$(b).hide()}else{$(b).show();var c=$(d).position();var l=$(d).height();var e=c.left;var h=c.top;var a=$(d).width();var i=d.value.replace(/\s+/g,"");var f=[];if(g=="bank"){f[0]=i.substr(0,4);i.substr(4,4)?f[1]=i.substr(4,4):0;i.substr(8,4)?f[2]=i.substr(8,4):0;i.substr(12,4)?f[3]=i.substr(12,4):0;i.substr(16,4)?f[4]=i.substr(16,4):0}else{if(g=="tel"){f[0]=i.substr(0,3);i.substr(3,4)?f[1]=i.substr(3,4):0;i.substr(7,4)?f[2]=i.substr(7,4):0}}var k='<span class="num_split">';k+='<em class="num_split_v">'+f.join(" ")+'</em><a href="javascript:;" onclick="$(this).parent().parent().fadeOut()"></a>';k+="</span>";$(b).html(k)}};
